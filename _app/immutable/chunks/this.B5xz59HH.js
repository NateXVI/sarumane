import{i as O,S as v,a as r,o as N,b as k,d as D,s as g,c as I,e as u,g as R,f as _,h as L,u as x,j,k as q,r as T,l as m,p as w,E as F,m as M,n as Y,q as B}from"./runtime.EMU0kWUW.js";import{U as y,h as b,a as H,H as K,r as U,s as Z,b as E,c as z}from"./disclose-version.ChtQrqqN.js";function h(e,t=null,n){if(typeof e=="object"&&e!=null&&!O(e)&&!(v in e)){if(r in e){const s=e[r];if(s.t===e||s.p===e)return s.p}const i=j(e);if(i===N||i===k){const s=new Proxy(e,C);return D(e,r,{value:{s:new Map,v:g(0),a:I(e),p:s,t:e},writable:!0,enumerable:!1}),s}}return e}function P(e,t=1){u(e,e.v+t)}const C={defineProperty(e,t,n){if(n.value){const i=e[r],s=i.s.get(t);s!==void 0&&u(s,h(n.value,i))}return Reflect.defineProperty(e,t,n)},deleteProperty(e,t){const n=e[r],i=n.s.get(t),s=n.a,f=delete e[t];if(s&&f){const a=n.s.get("length"),c=e.length-1;a!==void 0&&a.v!==c&&u(a,c)}return i!==void 0&&u(i,y),f&&P(n.v),f},get(e,t,n){var f;if(t===r)return Reflect.get(e,r);const i=e[r];let s=i.s.get(t);if(s===void 0&&(!(t in e)||(f=R(e,t))!=null&&f.writable)&&(s=g(h(e[t],i)),i.s.set(t,s)),s!==void 0){const a=_(s);return a===y?void 0:a}return Reflect.get(e,t,n)},getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){const s=e[r].s.get(t);s&&(n.value=_(s))}return n},has(e,t){var f;if(t===r)return!0;const n=e[r],i=Reflect.has(e,t);let s=n.s.get(t);return(s!==void 0||L!==null&&(!i||(f=R(e,t))!=null&&f.writable))&&(s===void 0&&(s=g(i?h(e[t],n):y),n.s.set(t,s)),_(s)===y)?!1:i},set(e,t,n,i){const s=e[r];let f=s.s.get(t);f===void 0&&(x(()=>i[t]),f=s.s.get(t)),f!==void 0&&u(f,h(n,s));const a=s.a,c=!(t in e);if(a&&t==="length")for(let d=n;d<e.length;d+=1){const o=s.s.get(d+"");o!==void 0&&u(o,y)}var l=Reflect.getOwnPropertyDescriptor(e,t);if(l!=null&&l.set?l.set.call(i,n):e[t]=n,c){if(a){const d=s.s.get("length"),o=e.length;d!==void 0&&d.v!==o&&u(d,o)}P(s.v)}return!0},ownKeys(e){const t=e[r];return _(t.v),Reflect.ownKeys(e)}};function Q(e,t,n,i=null,s=!1){b&&H();var f=e,a=null,c=null,l=null,d=s?F:0;q(()=>{if(l===(l=!!t()))return;let o=!1;if(b){const A=f.data===K;l===A&&(f=U(),Z(f),E(!1),o=!0)}l?(a?T(a):a=m(()=>n(f)),c&&w(c,()=>{c=null})):(c?T(c):i&&(c=m(()=>i(f))),a&&w(a,()=>{a=null})),o&&E(!0)},d),b&&(f=z)}function S(e,t){var i;var n=e&&((i=e[r])==null?void 0:i.t);return e===t||n===t}function V(e={},t,n,i){return M(()=>{var s,f;return Y(()=>{s=f,f=[],x(()=>{e!==n(...f)&&(t(e,...f),s&&S(n(...s),e)&&t(null,...s))})}),()=>{B(()=>{f&&S(n(...f),e)&&t(null,...f)})}}),e}export{V as b,Q as i,h as p};
